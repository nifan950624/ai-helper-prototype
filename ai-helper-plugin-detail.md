# AI Helper VS Code æ’ä»¶ - è¯¦ç»†æŠ€æœ¯æ–¹æ¡ˆ

## ä¸€ã€æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              VS Code æ’ä»¶                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   éœ€æ±‚ç®¡ç†    â”‚  â”‚   ä»»åŠ¡ç®¡ç†    â”‚  â”‚   ä»£ç è¾…åŠ©    â”‚  â”‚   æŠ¥é”™æ²»ç†    â”‚   â”‚
â”‚  â”‚   Module     â”‚  â”‚   Module     â”‚  â”‚   Module     â”‚  â”‚   Module     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                 â”‚                 â”‚                 â”‚           â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                    â”‚                                       â”‚
â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚                          â”‚   Context Engine   â”‚                            â”‚
â”‚                          â”‚   (ä¸Šä¸‹æ–‡å¼•æ“)      â”‚                            â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                                    â”‚                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                    â”‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   TAPD API      â”‚    â”‚  AI Plugin Bridge  â”‚    â”‚   Knowledge     â”‚      â”‚
â”‚  â”‚   Service       â”‚    â”‚  (AI æ’ä»¶æ¡¥æ¥å±‚)    â”‚    â”‚   Base API      â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                   â”‚                                        â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚                    â–¼              â–¼              â–¼                        â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚              â”‚CodeBuddy â”‚  â”‚ Copilot  â”‚  â”‚ Codeium  â”‚                     â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                         (å¤–éƒ¨ AI æ’ä»¶)                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> **æ¶æ„è¯´æ˜**ï¼šæœ¬æ’ä»¶ä¸è‡ªå»ºæ¨¡å‹æœåŠ¡ï¼Œè€Œæ˜¯é€šè¿‡ AI Plugin Bridge æ¡¥æ¥å±‚è°ƒç”¨ç”¨æˆ·å·²å®‰è£…çš„å¤–éƒ¨ AI æ’ä»¶ï¼ˆå¦‚ CodeBuddyã€GitHub Copilotã€Codeiumï¼‰ã€‚æ’ä»¶è´Ÿè´£æ”¶é›†ä¸Šä¸‹æ–‡ã€æ„å»º Promptï¼Œç„¶åå°†å…¶ä¼ é€’ç»™å¤–éƒ¨ AI æ’ä»¶è¿›è¡Œå¤„ç†ã€‚

---

## äºŒã€UI åŸå‹è®¾è®¡

### 2.1 æ•´ä½“å¸ƒå±€ - Tab + Content ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– AI Helper                                            [âš™ï¸]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ éœ€æ±‚å¼€å‘ â”‚ JSæŠ¥é”™  â”‚ åŸ‹ç‚¹åˆ†æ â”‚ çŸ¥è¯†åº“  â”‚  åé¦ˆ   â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚                     [Tab å†…å®¹åŒºåŸŸ]                        â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> **è®¾è®¡è¯´æ˜**ï¼šé‡‡ç”¨ Tab + Content å¸ƒå±€ï¼Œé¿å… VS Code ä¸­å¼¹çª—ä½“éªŒä¸ä½³çš„é—®é¢˜ã€‚æ‰€æœ‰åŠŸèƒ½éƒ½åœ¨ä¾§è¾¹æ å†…é€šè¿‡ Tab åˆ‡æ¢å±•ç¤ºï¼Œä¿æŒäº¤äº’çš„è¿è´¯æ€§ã€‚

### 2.2 Tab 1: éœ€æ±‚å¼€å‘

#### 2.2.1 éœ€æ±‚ç»‘å®šçŠ¶æ€ï¼ˆæœªç»‘å®šæ—¶ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– AI Helper                                            [âš™ï¸]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚â–¶éœ€æ±‚å¼€å‘â”‚ JSæŠ¥é”™  â”‚ åŸ‹ç‚¹åˆ†æ â”‚ çŸ¥è¯†åº“  â”‚  åé¦ˆ   â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“‹ ç»‘å®šéœ€æ±‚                                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚                                                                 â”‚
â”‚  è¯·è¾“å…¥ TAPD éœ€æ±‚é“¾æ¥æˆ– ID:                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ https://tapd.woa.com/xxx/prong/stories/view/...         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æˆ–æ‰‹åŠ¨å¡«å†™ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                     â”‚
â”‚                                                                 â”‚
â”‚  éœ€æ±‚æ ‡é¢˜:                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ é¢„çº¦å•æ”¯æŒé¢„ä»˜åŠŸèƒ½                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  éœ€æ±‚æè¿°:                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ 1. ç”¨æˆ·åœ¨é¢„çº¦å•è¯¦æƒ…é¡µå¯ä»¥é€‰æ‹©é¢„ä»˜                        â”‚   â”‚
â”‚  â”‚ 2. æ”¯æŒå¾®ä¿¡æ”¯ä»˜å’Œä½™é¢æ”¯ä»˜                                â”‚   â”‚
â”‚  â”‚ 3. é¢„ä»˜æˆåŠŸåæ˜¾ç¤ºé¢„ä»˜æ ‡è®°                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  éªŒæ”¶æ ‡å‡†:                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ 1. é¢„ä»˜æµç¨‹å®Œæ•´å¯ç”¨                                      â”‚   â”‚
â”‚  â”‚ 2. å¼‚å¸¸æƒ…å†µæœ‰å…œåº•æç¤º                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚                                         [ç¡®è®¤ç»‘å®š]              â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.2.2 éœ€æ±‚å¼€å‘ä¸»è§†å›¾ï¼ˆå·²ç»‘å®šéœ€æ±‚ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– AI Helper                                            [âš™ï¸]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚â–¶éœ€æ±‚å¼€å‘â”‚ JSæŠ¥é”™  â”‚ åŸ‹ç‚¹åˆ†æ â”‚ çŸ¥è¯†åº“  â”‚  åé¦ˆ   â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“‹ å½“å‰éœ€æ±‚                                        [è§£ç»‘] [â–¼]  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚  #12345 é¢„çº¦å•æ”¯æŒé¢„ä»˜åŠŸèƒ½                                      â”‚
â”‚  çŠ¶æ€: å¼€å‘ä¸­  ä¼˜å…ˆçº§: P1                                       â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ [è§£æéœ€æ±‚]  [ä»»åŠ¡æ‹†è§£]  [éªŒæ”¶æ¸…å•]                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“ ä»»åŠ¡åˆ—è¡¨                                              [+]   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â—‹ T1: é¢„ä»˜å¼¹çª— UI æ”¹é€                            [å¾…å¼€å§‹]  â”‚ â”‚
â”‚  â”‚ â— T2: å¾®ä¿¡æ”¯ä»˜æ¥å£å¯¹æ¥                           [å¼€å‘ä¸­]  â”‚ â”‚
â”‚  â”‚ â—‹ T3: åŸ‹ç‚¹ç»Ÿè®¡å®ç°                               [å¾…å¼€å§‹]  â”‚ â”‚
â”‚  â”‚ âœ“ T4: å¼‚å¸¸è¾¹ç•Œå¤„ç†                               [å·²å®Œæˆ]  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> **è¯´æ˜**ï¼šç‚¹å‡»ä»»åŠ¡é¡¹å¯å±•å¼€è¯¦æƒ…ï¼Œå±•å¼€åå¯æ“ä½œã€ŒAI ç”Ÿæˆã€ã€Œä»£ç æ£€æŸ¥ã€ç­‰åŠŸèƒ½ï¼Œè¯¦è§ 2.2.4 ä»»åŠ¡è¯¦æƒ…å±•å¼€è§†å›¾ã€‚

#### 2.2.3 ç»“æ„åŒ–éœ€æ±‚å±•ç¤ºï¼ˆæŠ˜å å±•å¼€ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“‹ å½“å‰éœ€æ±‚                                        [è§£ç»‘] [â–²]  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚  #12345 é¢„çº¦å•æ”¯æŒé¢„ä»˜åŠŸèƒ½                                      â”‚
â”‚  çŠ¶æ€: å¼€å‘ä¸­  ä¼˜å…ˆçº§: P1                                       â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“Œ ä¸šåŠ¡èƒŒæ™¯                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ å½“å‰é¢„çº¦å•ä¸æ”¯æŒé¢„ä»˜ï¼Œç”¨æˆ·éœ€è¦è¡Œç¨‹ç»“æŸåæ‰èƒ½ä»˜æ¬¾ï¼Œå­˜åœ¨é€ƒ   â”‚ â”‚
â”‚  â”‚ å•é£é™©ï¼Œéœ€è¦å¢åŠ é¢„ä»˜èƒ½åŠ›é™ä½é£é™©ã€‚                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  ğŸ¯ ä¸šåŠ¡ç›®æ ‡                                                    â”‚
â”‚  â€¢ é™ä½é¢„çº¦å•é€ƒå•ç‡ 30%                                         â”‚
â”‚  â€¢ æå‡ç”¨æˆ·æ”¯ä»˜ä½“éªŒ                                             â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“ åŠŸèƒ½ç‚¹åˆ—è¡¨                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 1. é¢„ä»˜å…¥å£å±•ç¤º                                            â”‚ â”‚
â”‚  â”‚    - é¢„çº¦å•è¯¦æƒ…é¡µå¢åŠ ã€Œç«‹å³é¢„ä»˜ã€æŒ‰é’®                      â”‚ â”‚
â”‚  â”‚    - æŒ‰é’®åœ¨è®¢å•çŠ¶æ€ä¸ºã€Œå¾…å‡ºå‘ã€æ—¶å±•ç¤º                      â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚ 2. é¢„ä»˜å¼¹çª—                                                â”‚ â”‚
â”‚  â”‚    - å±•ç¤ºé¢„ä¼°é‡‘é¢                                          â”‚ â”‚
â”‚  â”‚    - æ”¯æŒå¾®ä¿¡æ”¯ä»˜ / ä½™é¢æ”¯ä»˜                               â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚ 3. é¢„ä»˜çŠ¶æ€å±•ç¤º                                            â”‚ â”‚
â”‚  â”‚    - é¢„ä»˜æˆåŠŸåè®¢å•å¡ç‰‡å¢åŠ ã€Œå·²é¢„ä»˜ã€æ ‡ç­¾                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  âš ï¸ è¾¹ç•Œä¸å¼‚å¸¸                                                  â”‚
â”‚  â€¢ æ”¯ä»˜å¤±è´¥ï¼šå¼¹çª—æç¤ºï¼Œå¯é‡è¯•                                   â”‚
â”‚  â€¢ é‡‘é¢å˜åŒ–ï¼šé¢„ä»˜åå®é™…é‡‘é¢å˜åŒ–éœ€è¡¥å·®ä»·                         â”‚
â”‚  â€¢ å–æ¶ˆè®¢å•ï¼šé¢„ä»˜é‡‘é¢åŸè·¯é€€å›                                   â”‚
â”‚                                                                 â”‚
â”‚  âœ… éªŒæ”¶æ ‡å‡†                                                    â”‚
â”‚  â–¡ é¢„ä»˜æµç¨‹ç«¯åˆ°ç«¯å¯ç”¨                                           â”‚
â”‚  â–¡ å¼‚å¸¸åœºæ™¯æœ‰å…œåº•                                               â”‚
â”‚  â–¡ åŸ‹ç‚¹æ•°æ®æ­£ç¡®ä¸ŠæŠ¥                                             â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ [è§£æéœ€æ±‚]  [ä»»åŠ¡æ‹†è§£]  [éªŒæ”¶æ¸…å•]                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.2.4 ä»»åŠ¡è¯¦æƒ…å±•å¼€è§†å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ ä»»åŠ¡åˆ—è¡¨                                              [+]   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â—‹ T1: é¢„ä»˜å¼¹çª— UI æ”¹é€                            [å¾…å¼€å§‹]  â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ â— T2: å¾®ä¿¡æ”¯ä»˜æ¥å£å¯¹æ¥                           [å¼€å‘ä¸­]  â”‚ â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚   â”‚ ğŸ“„ ä»»åŠ¡æè¿°                                          â”‚ â”‚ â”‚
â”‚  â”‚   â”‚ å¯¹æ¥å¾®ä¿¡æ”¯ä»˜ JSAPIï¼Œå®ç°é¢„çº¦å•é¢„ä»˜åŠŸèƒ½               â”‚ â”‚ â”‚
â”‚  â”‚   â”‚                                                      â”‚ â”‚ â”‚
â”‚  â”‚   â”‚ âœ… éªŒæ”¶ç‚¹                                            â”‚ â”‚ â”‚
â”‚  â”‚   â”‚ â–¡ è°ƒèµ·å¾®ä¿¡æ”¯ä»˜æˆåŠŸ                                   â”‚ â”‚ â”‚
â”‚  â”‚   â”‚ â–¡ æ”¯ä»˜ç»“æœå›è°ƒæ­£ç¡®å¤„ç†                               â”‚ â”‚ â”‚
â”‚  â”‚   â”‚ â–¡ æ”¯ä»˜å¤±è´¥æœ‰é‡è¯•æœºåˆ¶                                 â”‚ â”‚ â”‚
â”‚  â”‚   â”‚                                                      â”‚ â”‚ â”‚
â”‚  â”‚   â”‚ ğŸ“ å…³è”æ–‡ä»¶                                    [+]   â”‚ â”‚ â”‚
â”‚  â”‚   â”‚ â€¢ services/payment/wechat.ts              [Ã—]        â”‚ â”‚ â”‚
â”‚  â”‚   â”‚ â€¢ pages/order-detail/prepay-modal/index.ts [Ã—]       â”‚ â”‚ â”‚
â”‚  â”‚   â”‚                                                      â”‚ â”‚ â”‚
â”‚  â”‚   â”‚ [ğŸš€ AI ç”Ÿæˆ]  [ğŸ” ä»£ç æ£€æŸ¥]  [âœ“ æ ‡è®°å®Œæˆ]            â”‚ â”‚ â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ â—‹ T3: åŸ‹ç‚¹ç»Ÿè®¡å®ç°                               [å¾…å¼€å§‹]  â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ âœ“ T4: å¼‚å¸¸è¾¹ç•Œå¤„ç†                               [å·²å®Œæˆ]  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> **äº¤äº’è¯´æ˜**ï¼šç‚¹å‡»ä»»åŠ¡é¡¹å¯å±•å¼€/æ”¶èµ·ä»»åŠ¡è¯¦æƒ…ã€‚ã€Œå…³è”æ–‡ä»¶ã€æ”¯æŒæ‰‹åŠ¨æ·»åŠ æˆ–æ‹–æ‹½æ–‡ä»¶ï¼Œè°ƒç”¨ AI æ—¶è¿™äº›æ–‡ä»¶å†…å®¹ä¼šè‡ªåŠ¨çº³å…¥ä¸Šä¸‹æ–‡ã€‚

#### 2.2.5 ä»£ç ç”Ÿæˆç»“æœå±•ç¤º

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– AI ä»£ç å»ºè®®                                    [åº”ç”¨å…¨éƒ¨]   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“ services/payment/wechat.ts                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ + import { requestPayment } from '@/utils/wx';             â”‚ â”‚
â”‚  â”‚ +                                                          â”‚ â”‚
â”‚  â”‚ + export async function prepayOrder(params: {              â”‚ â”‚
â”‚  â”‚ +   orderId: string;                                       â”‚ â”‚
â”‚  â”‚ +   amount: number;                                        â”‚ â”‚
â”‚  â”‚ + }) {                                                     â”‚ â”‚
â”‚  â”‚ +   try {                                                  â”‚ â”‚
â”‚  â”‚ +     const res = await api.createPrepayOrder(params);     â”‚ â”‚
â”‚  â”‚ +     await requestPayment(res.payParams);                 â”‚ â”‚
â”‚  â”‚ +     return { success: true };                            â”‚ â”‚
â”‚  â”‚ +   } catch (error) {                                      â”‚ â”‚
â”‚  â”‚ +     handlePaymentError(error);                           â”‚ â”‚
â”‚  â”‚ +     return { success: false, error };                    â”‚ â”‚
â”‚  â”‚ +   }                                                      â”‚ â”‚
â”‚  â”‚ + }                                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  [åº”ç”¨æ­¤æ–‡ä»¶] [å¿½ç•¥]                                            â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“ pages/order-detail/prepay-modal/index.ts                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   async onPrepayTap() {                                    â”‚ â”‚
â”‚  â”‚ +   this.setData({ loading: true });                       â”‚ â”‚
â”‚  â”‚ +   const { success } = await prepayOrder({                â”‚ â”‚
â”‚  â”‚ +     orderId: this.data.orderId,                          â”‚ â”‚
â”‚  â”‚ +     amount: this.data.estimateAmount,                    â”‚ â”‚
â”‚  â”‚ +   });                                                    â”‚ â”‚
â”‚  â”‚ +   this.setData({ loading: false });                      â”‚ â”‚
â”‚  â”‚ +   if (success) {                                         â”‚ â”‚
â”‚  â”‚ +     this.triggerEvent('success');                        â”‚ â”‚
â”‚  â”‚ +   }                                                      â”‚ â”‚
â”‚  â”‚   }                                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  [åº”ç”¨æ­¤æ–‡ä»¶] [å¿½ç•¥]                                            â”‚
â”‚                                                                 â”‚
â”‚  ğŸ’¡ AI è¯´æ˜                                                     â”‚
â”‚  åŸºäºå›¢é˜Ÿçš„æ”¯ä»˜æ¥å£è§„èŒƒï¼Œå·²æ·»åŠ  loading çŠ¶æ€ç®¡ç†å’Œç»Ÿä¸€çš„é”™è¯¯    â”‚
â”‚  å¤„ç†ã€‚å»ºè®®åç»­å¢åŠ æ”¯ä»˜ç»“æœçš„åŸ‹ç‚¹ä¸ŠæŠ¥ã€‚                         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 Tab 2: JSæŠ¥é”™

#### 2.3.1 æŠ¥é”™åˆ—è¡¨è§†å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– AI Helper                                            [âš™ï¸]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ éœ€æ±‚å¼€å‘ â”‚â–¶JSæŠ¥é”™  â”‚ åŸ‹ç‚¹åˆ†æ â”‚ çŸ¥è¯†åº“  â”‚  åé¦ˆ   â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                â”‚
â”‚                                                                 â”‚
â”‚  ğŸ” JS æŠ¥é”™æ²»ç†                                     [åˆ·æ–°] [ğŸ”—] â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“Š é”™è¯¯æ¦‚è§ˆ                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ä»Šæ—¥æ–°å¢: 12   å¾…å¤„ç†: 8   å·²æ²»ç†: 156                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“‹ é”™è¯¯åˆ—è¡¨                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ âŒ TypeError: Cannot read property 'orderId'...            â”‚ â”‚
â”‚  â”‚    wechat.ts:15  |  ä»Šæ—¥ 128 æ¬¡  |  å½±å“ 56 ç”¨æˆ·           â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ âŒ ReferenceError: prepayModal is not defined              â”‚ â”‚
â”‚  â”‚    index.ts:42   |  ä»Šæ—¥ 45 æ¬¡   |  å½±å“ 23 ç”¨æˆ·           â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ âš ï¸ UnhandledPromiseRejection: Request timeout              â”‚ â”‚
â”‚  â”‚    api.ts:88     |  ä»Šæ—¥ 23 æ¬¡   |  å½±å“ 12 ç”¨æˆ·           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  ğŸ’¡ ç‚¹å‡»é”™è¯¯é¡¹æŸ¥çœ‹è¯¦æƒ…å¹¶è·å– AI åˆ†æ                            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.3.2 æŠ¥é”™è¯¦æƒ…åˆ†æè§†å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– AI Helper                                            [âš™ï¸]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ éœ€æ±‚å¼€å‘ â”‚â–¶JSæŠ¥é”™  â”‚ åŸ‹ç‚¹åˆ†æ â”‚ çŸ¥è¯†åº“  â”‚  åé¦ˆ   â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                â”‚
â”‚                                                                 â”‚
â”‚  [â† è¿”å›åˆ—è¡¨]                                                   â”‚
â”‚                                                                 â”‚
â”‚  âŒ é”™è¯¯ä¿¡æ¯                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ TypeError: Cannot read property 'orderId' of undefined    â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚ at prepayOrder (wechat.ts:15:23)                          â”‚ â”‚
â”‚  â”‚ at onPrepayTap (index.ts:42:18)                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“ å®šä½ä¿¡æ¯                                                    â”‚
â”‚  æ–‡ä»¶: services/payment/wechat.ts                               â”‚
â”‚  è¡Œå·: 15                                                       â”‚
â”‚  [è·³è½¬åˆ°æºç ]                                                   â”‚
â”‚                                                                 â”‚
â”‚  ğŸ” AI æ ¹å› åˆ†æ                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ params å‚æ•°åœ¨æŸäº›è°ƒç”¨åœºæ™¯ä¸‹å¯èƒ½ä¸º undefinedï¼Œéœ€è¦åœ¨å‡½æ•°   â”‚ â”‚
â”‚  â”‚ å…¥å£å¤„å¢åŠ å‚æ•°æ ¡éªŒã€‚                                       â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚ ğŸ“š ç±»ä¼¼é—®é¢˜å†å²è®°å½•ï¼š                                      â”‚ â”‚
â”‚  â”‚ - #BUG-2024-001: æ”¯ä»˜å‚æ•°æœªæ ¡éªŒå¯¼è‡´å´©æºƒ                   â”‚ â”‚
â”‚  â”‚ - æ²»ç†æ–¹æ¡ˆ: ç»Ÿä¸€ä½¿ç”¨ validateParams å·¥å…·å‡½æ•°              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  ğŸ’¡ ä¿®å¤å»ºè®®                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ export async function prepayOrder(params) {                â”‚ â”‚
â”‚  â”‚ +  if (!params?.orderId) {                                 â”‚ â”‚
â”‚  â”‚ +    console.error('prepayOrder: invalid params');         â”‚ â”‚
â”‚  â”‚ +    return { success: false };                            â”‚ â”‚
â”‚  â”‚ +  }                                                       â”‚ â”‚
â”‚  â”‚    // ... existing code                                    â”‚ â”‚
â”‚  â”‚ }                                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  [åº”ç”¨ä¿®å¤] [ç”Ÿæˆæ²»ç†è®°å½•] [å¿½ç•¥]                               â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.4 Tab 3: åŸ‹ç‚¹åˆ†æ

#### 2.4.1 åŸ‹ç‚¹æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– AI Helper                                            [âš™ï¸]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ éœ€æ±‚å¼€å‘ â”‚ JSæŠ¥é”™  â”‚â–¶åŸ‹ç‚¹åˆ†æ â”‚ çŸ¥è¯†åº“  â”‚  åé¦ˆ   â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“Š åŸ‹ç‚¹åˆ†æ                                        [åˆ·æ–°] [ğŸ”—] â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚                                                                 â”‚
â”‚  ğŸ” åŸ‹ç‚¹æœç´¢                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ è¾“å…¥åŸ‹ç‚¹ Key æˆ–å…³é”®è¯...                            [æœç´¢] â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“‹ å½“å‰éœ€æ±‚å…³è”åŸ‹ç‚¹                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ“ˆ prepay_button_click                                     â”‚ â”‚
â”‚  â”‚    é¢„ä»˜æŒ‰é’®ç‚¹å‡»  |  ä»Šæ—¥ 2,345 æ¬¡  |  è½¬åŒ–ç‡ 68%           â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ ğŸ“ˆ prepay_modal_show                                       â”‚ â”‚
â”‚  â”‚    é¢„ä»˜å¼¹çª—å±•ç¤º  |  ä»Šæ—¥ 1,892 æ¬¡  |  æ›å…‰ç‡ 81%           â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ ğŸ“ˆ prepay_success                                          â”‚ â”‚
â”‚  â”‚    é¢„ä»˜æˆåŠŸ  |  ä»Šæ—¥ 1,234 æ¬¡  |  æˆåŠŸç‡ 65%               â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ âš ï¸ prepay_fail                                             â”‚ â”‚
â”‚  â”‚    é¢„ä»˜å¤±è´¥  |  ä»Šæ—¥ 658 æ¬¡  |  å¤±è´¥ç‡ 35%                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  ğŸ’¡ å¿«æ·æ“ä½œ                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ [ç”ŸæˆåŸ‹ç‚¹ä»£ç ] [åŸ‹ç‚¹æ ¡éªŒ] [æŸ¥çœ‹åŸ‹ç‚¹æ–‡æ¡£]                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.4.2 åŸ‹ç‚¹è¯¦æƒ…è§†å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [â† è¿”å›åˆ—è¡¨]                                                   â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“ˆ åŸ‹ç‚¹è¯¦æƒ…: prepay_button_click                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“‹ åŸºæœ¬ä¿¡æ¯                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ åŸ‹ç‚¹ Key:  prepay_button_click                             â”‚ â”‚
â”‚  â”‚ åŸ‹ç‚¹åç§°:  é¢„ä»˜æŒ‰é’®ç‚¹å‡»                                    â”‚ â”‚
â”‚  â”‚ æ‰€å±æ¨¡å—:  é¢„çº¦å•-é¢„ä»˜                                     â”‚ â”‚
â”‚  â”‚ ä¸ŠæŠ¥æ—¶æœº:  ç”¨æˆ·ç‚¹å‡»é¢„ä»˜æŒ‰é’®æ—¶                              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“Š å‚æ•°å®šä¹‰                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ å‚æ•°å        ç±»å‹      å¿…å¡«    è¯´æ˜                       â”‚ â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”‚ â”‚
â”‚  â”‚ order_id      string    âœ“      è®¢å• ID                    â”‚ â”‚
â”‚  â”‚ order_status  string    âœ“      è®¢å•çŠ¶æ€                   â”‚ â”‚
â”‚  â”‚ amount        number    âœ“      é¢„ä»˜é‡‘é¢                   â”‚ â”‚
â”‚  â”‚ source        string    â—‹      å…¥å£æ¥æº                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“ˆ æ•°æ®è¶‹åŠ¿ï¼ˆè¿‘ 7 å¤©ï¼‰                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚    â–‚â–„â–†â–ˆâ–†â–„â–‚                                                â”‚ â”‚
â”‚  â”‚  å‘¨ä¸€ å‘¨äºŒ å‘¨ä¸‰ å‘¨å›› å‘¨äº” å‘¨å…­ å‘¨æ—¥                         â”‚ â”‚
â”‚  â”‚  æœ€é«˜: 3,456  æœ€ä½: 1,234  å¹³å‡: 2,345                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  ğŸ’¡ AI å»ºè®®                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ å»ºè®®å¢åŠ  payment_method å‚æ•°ï¼Œç”¨äºåˆ†æä¸åŒæ”¯ä»˜æ–¹å¼çš„      â”‚ â”‚
â”‚  â”‚ ç”¨æˆ·åå¥½ã€‚                                                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  [ç”ŸæˆåŸ‹ç‚¹ä»£ç ] [æŸ¥çœ‹ä¸ŠæŠ¥æ•°æ®] [ç¼–è¾‘åŸ‹ç‚¹]                       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.5 Tab 4: çŸ¥è¯†åº“

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– AI Helper                                            [âš™ï¸]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ éœ€æ±‚å¼€å‘ â”‚ JSæŠ¥é”™  â”‚ åŸ‹ç‚¹åˆ†æ â”‚â–¶çŸ¥è¯†åº“  â”‚  åé¦ˆ   â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“š çŸ¥è¯†åº“                                          [åˆ·æ–°] [ğŸ”—] â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚                                                                 â”‚
â”‚  ğŸ” æœç´¢çŸ¥è¯†åº“                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ è¾“å…¥å…³é”®è¯æœç´¢...                                   [æœç´¢] â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“‚ åˆ†ç±»æµè§ˆ                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ“ ä¸šåŠ¡è§„èŒƒ                                          [12] â”‚ â”‚
â”‚  â”‚    â””â”€ æ”¯ä»˜æµç¨‹è§„èŒƒ                                         â”‚ â”‚
â”‚  â”‚    â””â”€ è®¢å•çŠ¶æ€æœºè¯´æ˜                                       â”‚ â”‚
â”‚  â”‚    â””â”€ é¢„çº¦å•ä¸šåŠ¡é€»è¾‘                                       â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ ğŸ“ ä»£ç è§„èŒƒ                                          [28] â”‚ â”‚
â”‚  â”‚    â””â”€ TypeScript ç¼–ç è§„èŒƒ                                  â”‚ â”‚
â”‚  â”‚    â””â”€ ç»„ä»¶å¼€å‘è§„èŒƒ                                         â”‚ â”‚
â”‚  â”‚    â””â”€ API è°ƒç”¨è§„èŒƒ                                         â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ ğŸ“ é”™è¯¯æ²»ç†ç»éªŒ                                      [45] â”‚ â”‚
â”‚  â”‚    â””â”€ æ”¯ä»˜ç±»é”™è¯¯æ²»ç†                                       â”‚ â”‚
â”‚  â”‚    â””â”€ ç©ºæŒ‡é’ˆå¼‚å¸¸å¤„ç†                                       â”‚ â”‚
â”‚  â”‚    â””â”€ ç½‘ç»œè¯·æ±‚å¼‚å¸¸å¤„ç†                                     â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ ğŸ“ åŸ‹ç‚¹æ–‡æ¡£                                          [18] â”‚ â”‚
â”‚  â”‚    â””â”€ åŸ‹ç‚¹å‘½åè§„èŒƒ                                         â”‚ â”‚
â”‚  â”‚    â””â”€ é¢„çº¦å•åŸ‹ç‚¹æ¸…å•                                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  ğŸ• æœ€è¿‘è®¿é—®                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â€¢ å¾®ä¿¡æ”¯ä»˜æ¥å…¥æŒ‡å—                           2 å°æ—¶å‰      â”‚ â”‚
â”‚  â”‚ â€¢ é¢„çº¦å•çŠ¶æ€æœºè¯´æ˜                           æ˜¨å¤©          â”‚ â”‚
â”‚  â”‚ â€¢ é”™è¯¯ä¸ŠæŠ¥è§„èŒƒ                               3 å¤©å‰        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.6 Tab 5: åé¦ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– AI Helper                                            [âš™ï¸]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ éœ€æ±‚å¼€å‘ â”‚ JSæŠ¥é”™  â”‚ åŸ‹ç‚¹åˆ†æ â”‚ çŸ¥è¯†åº“  â”‚â–¶ åé¦ˆ   â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                â”‚
â”‚                                                                 â”‚
â”‚  ğŸ’¬ åé¦ˆä¸å»ºè®®                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“ æäº¤åé¦ˆ                                                    â”‚
â”‚                                                                 â”‚
â”‚  åé¦ˆç±»å‹:                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â—‹ åŠŸèƒ½å»ºè®®   â—‹ Bug æŠ¥å‘Š   â—‹ ä½¿ç”¨é—®é¢˜   â—‹ å…¶ä»–              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  åé¦ˆå†…å®¹:                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚ è¯·è¯¦ç»†æè¿°æ‚¨çš„åé¦ˆ...                                      â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“ é™„ä»¶ï¼ˆå¯é€‰ï¼‰                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤å¤„ï¼Œæˆ–ç‚¹å‡»é€‰æ‹©æ–‡ä»¶                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  â–¡ å…è®¸è”ç³»æˆ‘è·å–æ›´å¤šä¿¡æ¯                                       â”‚
â”‚                                                                 â”‚
â”‚                                              [æäº¤åé¦ˆ]         â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“‹ æˆ‘çš„åé¦ˆè®°å½•                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ âœ“ #F001 å¸Œæœ›æ”¯æŒè‡ªå®šä¹‰å¿«æ·é”®        å·²é‡‡çº³    2024-01-15  â”‚ â”‚
â”‚  â”‚ â³ #F002 å»ºè®®å¢åŠ ä»£ç æ¨¡æ¿åŠŸèƒ½        å¤„ç†ä¸­    2024-01-18  â”‚ â”‚
â”‚  â”‚ ğŸ“ #F003 åŸ‹ç‚¹åˆ†æåŠ è½½è¾ƒæ…¢            å¾…å¤„ç†    2024-01-20  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“Š æ’ä»¶ä½¿ç”¨ç»Ÿè®¡                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ æœ¬å‘¨ä½¿ç”¨: 45 æ¬¡  |  ä»£ç ç”Ÿæˆ: 12 æ¬¡  |  æŠ¥é”™åˆ†æ: 8 æ¬¡     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> **Tab äº¤äº’è¯´æ˜**ï¼š
> - ç‚¹å‡» Tab åˆ‡æ¢ä¸åŒåŠŸèƒ½æ¨¡å—
> - å½“å‰æ¿€æ´»çš„ Tab ä»¥ `â–¶` æ ‡è®°
> - å„ Tab å†…å®¹ç‹¬ç«‹ï¼ŒçŠ¶æ€ä¿æŒ
> - æ”¯æŒé”®ç›˜å¿«æ·é”®åˆ‡æ¢ Tabï¼ˆå¦‚ Ctrl+1~5ï¼‰

---

## ä¸‰ã€æ•°æ®ç»“æ„è®¾è®¡

### 3.1 éœ€æ±‚æ•°æ®ç»“æ„

```typescript
// types/requirement.ts

/** åŸå§‹éœ€æ±‚ä¿¡æ¯ï¼ˆä» TAPD è·å–ï¼‰ */
interface RawRequirement {
  id: string;                    // TAPD éœ€æ±‚ ID
  title: string;                 // éœ€æ±‚æ ‡é¢˜
  description: string;           // éœ€æ±‚æè¿°ï¼ˆåŸå§‹æ–‡æœ¬ï¼‰
  acceptanceCriteria: string;    // éªŒæ”¶æ ‡å‡†ï¼ˆåŸå§‹æ–‡æœ¬ï¼‰
  priority: 'P0' | 'P1' | 'P2';  // ä¼˜å…ˆçº§
  status: string;                // çŠ¶æ€
  creator: string;               // åˆ›å»ºäºº
  assignee: string;              // å¤„ç†äºº
  createTime: string;            // åˆ›å»ºæ—¶é—´
  updateTime: string;            // æ›´æ–°æ—¶é—´
}

/** ç»“æ„åŒ–éœ€æ±‚ä¿¡æ¯ï¼ˆæ¨¡å‹è§£æåï¼‰ */
interface StructuredRequirement {
  id: string;                    // å…³è”çš„åŸå§‹éœ€æ±‚ ID
  
  /** ä¸šåŠ¡èƒŒæ™¯ */
  background: {
    summary: string;             // èƒŒæ™¯æ¦‚è¿°
    currentProblem: string;      // å½“å‰é—®é¢˜
    expectedOutcome: string;     // æœŸæœ›ç»“æœ
  };
  
  /** ä¸šåŠ¡ç›®æ ‡ */
  objectives: Array<{
    description: string;         // ç›®æ ‡æè¿°
    metric?: string;             // é‡åŒ–æŒ‡æ ‡ï¼ˆå¯é€‰ï¼‰
  }>;
  
  /** åŠŸèƒ½ç‚¹åˆ—è¡¨ */
  features: Array<{
    id: string;                  // åŠŸèƒ½ç‚¹ ID
    name: string;                // åŠŸèƒ½åç§°
    description: string;         // åŠŸèƒ½æè¿°
    subFeatures?: string[];      // å­åŠŸèƒ½ç‚¹
    priority: 'must' | 'should' | 'could';  // ä¼˜å…ˆçº§
  }>;
  
  /** è¾¹ç•Œä¸å¼‚å¸¸æƒ…å†µ */
  edgeCases: Array<{
    scenario: string;            // åœºæ™¯æè¿°
    expectedBehavior: string;    // é¢„æœŸè¡Œä¸º
    priority: 'high' | 'medium' | 'low';
  }>;
  
  /** éªŒæ”¶æ ‡å‡†ï¼ˆç»“æ„åŒ–ï¼‰ */
  acceptanceCriteria: Array<{
    id: string;                  // éªŒæ”¶é¡¹ ID
    description: string;         // éªŒæ”¶æè¿°
    testMethod?: string;         // æµ‹è¯•æ–¹æ³•
    checked: boolean;            // æ˜¯å¦å·²éªŒæ”¶
  }>;
  
  /** å…ƒä¿¡æ¯ */
  meta: {
    parsedAt: string;            // è§£ææ—¶é—´
    parsedBy: string;            // è§£ææ¨¡å‹
    version: number;             // ç‰ˆæœ¬å·
  };
}
```

### 3.2 ä»»åŠ¡æ•°æ®ç»“æ„

```typescript
// types/task.ts

/** ä»»åŠ¡çŠ¶æ€ */
type TaskStatus = 
  | 'pending'      // å¾…å¼€å§‹
  | 'in_progress'  // å¼€å‘ä¸­
  | 'completed';   // å·²å®Œæˆ

/** ä»»åŠ¡çŠ¶æ€æ˜¾ç¤ºæ–‡æœ¬ */
const TaskStatusText: Record<TaskStatus, string> = {
  pending: 'å¾…å¼€å§‹',
  in_progress: 'å¼€å‘ä¸­',
  completed: 'å·²å®Œæˆ',
};

/** ä»»åŠ¡ä¿¡æ¯ï¼ˆç²¾ç®€ç‰ˆï¼‰ */
interface Task {
  id: string;                    // ä»»åŠ¡ ID (T1, T2...)
  requirementId: string;         // å…³è”éœ€æ±‚ ID
  
  /** åŸºæœ¬ä¿¡æ¯ */
  title: string;                 // ä»»åŠ¡æ ‡é¢˜
  description: string;           // ä»»åŠ¡æè¿°
  status: TaskStatus;            // ä»»åŠ¡çŠ¶æ€
  statusText: string;            // çŠ¶æ€æ˜¾ç¤ºæ–‡æœ¬
  
  /** éªŒæ”¶ç‚¹ */
  checkpoints: Array<{
    id: string;
    description: string;
    checked: boolean;
  }>;
  
  /** å…³è”æ–‡ä»¶ï¼ˆå¼€å‘è€…æ‰‹åŠ¨æ·»åŠ æˆ–æ‹–æ‹½æ·»åŠ ï¼‰ */
  relatedFiles: Array<{
    path: string;                // æ–‡ä»¶è·¯å¾„
    note?: string;               // æ–‡ä»¶å¤‡æ³¨è¯´æ˜
    codeRanges?: Array<{         // å…³è”çš„ä»£ç è¡ŒèŒƒå›´
      startLine: number;         // èµ·å§‹è¡Œ
      endLine: number;           // ç»“æŸè¡Œ
      description?: string;      // ä»£ç èŒƒå›´æè¿°
    }>;
  }>;
}

/** ä»»åŠ¡åˆ—è¡¨ */
interface TaskList {
  requirementId: string;
  tasks: Task[];
}
```

> **è¯´æ˜**ï¼š`relatedFiles` å­—æ®µæ”¯æŒä»¥ä¸‹æ–¹å¼æ·»åŠ ï¼š
> - **æ‰‹åŠ¨è¾“å…¥**ï¼šç‚¹å‡» [+] æŒ‰é’®è¾“å…¥æ–‡ä»¶è·¯å¾„
> - **æ‹–æ‹½æ·»åŠ **ï¼šä»æ–‡ä»¶æ ‘æ‹–æ‹½æ–‡ä»¶åˆ°å…³è”æ–‡ä»¶åŒºåŸŸ
> - **é€‰ä¸­ä»£ç **ï¼ˆè§„åˆ’ä¸­ï¼‰ï¼šå³é”®èœå•ã€Œæ·»åŠ åˆ°å½“å‰ä»»åŠ¡ã€è‡ªåŠ¨è®°å½•æ–‡ä»¶å’Œè¡Œå·
> 
> æ¯ä¸ªå…³è”æ–‡ä»¶å¯æ·»åŠ  `note` å¤‡æ³¨è¯´æ˜å’Œ `codeRanges` ä»£ç è¡ŒèŒƒå›´ï¼Œè°ƒç”¨ AI æ—¶è¿™äº›ä¿¡æ¯ä¼šçº³å…¥ä¸Šä¸‹æ–‡ã€‚

### 3.3 åŸ‹ç‚¹æ•°æ®ç»“æ„

```typescript
// types/tracking.ts

/** åŸ‹ç‚¹å‚æ•°å®šä¹‰ */
interface TrackingParam {
  name: string;                 // å‚æ•°å
  type: 'string' | 'number' | 'boolean' | 'object';
  required: boolean;            // æ˜¯å¦å¿…å¡«
  description: string;          // å‚æ•°è¯´æ˜
}

/** åŸ‹ç‚¹å®šä¹‰ */
interface TrackingEvent {
  id: string;                   // åŸ‹ç‚¹ ID
  key: string;                  // åŸ‹ç‚¹ Keyï¼ˆä¸ŠæŠ¥æ—¶ä½¿ç”¨ï¼‰
  name: string;                 // åŸ‹ç‚¹åç§°ï¼ˆä¸­æ–‡æè¿°ï¼‰
  module: string;               // æ‰€å±æ¨¡å—
  triggerTiming: string;        // ä¸ŠæŠ¥æ—¶æœº
  params: TrackingParam[];      // å‚æ•°åˆ—è¡¨
  
  /** å…³è”ä¿¡æ¯ */
  relatedRequirementId?: string; // å…³è”éœ€æ±‚ ID
  relatedTaskId?: string;       // å…³è”ä»»åŠ¡ ID
  
  /** å…ƒä¿¡æ¯ */
  createdAt: string;
  updatedAt: string;
  createdBy: string;
}

/** åŸ‹ç‚¹ç»Ÿè®¡æ•°æ® */
interface TrackingStats {
  eventKey: string;
  todayCount: number;           // ä»Šæ—¥è§¦å‘æ¬¡æ•°
  yesterdayCount: number;       // æ˜¨æ—¥è§¦å‘æ¬¡æ•°
  weeklyTrend: number[];        // è¿‘ 7 å¤©è¶‹åŠ¿
  affectedUsers: number;        // å½±å“ç”¨æˆ·æ•°
  conversionRate?: number;      // è½¬åŒ–ç‡ï¼ˆå¯é€‰ï¼‰
}

/** åŸ‹ç‚¹æ ¡éªŒç»“æœ */
interface TrackingValidation {
  eventKey: string;
  isValid: boolean;
  errors: Array<{
    type: 'missing_param' | 'wrong_type' | 'unexpected_param';
    message: string;
  }>;
}
```

### 3.4 åé¦ˆæ•°æ®ç»“æ„

```typescript
// types/feedback.ts

/** åé¦ˆç±»å‹ */
type FeedbackType = 'feature' | 'bug' | 'question' | 'other';

/** åé¦ˆçŠ¶æ€ */
type FeedbackStatus = 'pending' | 'processing' | 'resolved' | 'rejected';

/** åé¦ˆè®°å½• */
interface Feedback {
  id: string;                   // åé¦ˆ ID
  type: FeedbackType;           // åé¦ˆç±»å‹
  content: string;              // åé¦ˆå†…å®¹
  attachments?: string[];       // é™„ä»¶è·¯å¾„åˆ—è¡¨
  status: FeedbackStatus;       // å¤„ç†çŠ¶æ€
  allowContact: boolean;        // æ˜¯å¦å…è®¸è”ç³»
  
  /** å…ƒä¿¡æ¯ */
  createdAt: string;
  updatedAt: string;
  createdBy: string;
  
  /** å¤„ç†ä¿¡æ¯ */
  response?: string;            // å¤„ç†å›å¤
  resolvedAt?: string;          // è§£å†³æ—¶é—´
}

/** ä½¿ç”¨ç»Ÿè®¡ */
interface UsageStats {
  totalUsage: number;           // æ€»ä½¿ç”¨æ¬¡æ•°
  weeklyUsage: number;          // æœ¬å‘¨ä½¿ç”¨æ¬¡æ•°
  codeGenCount: number;         // ä»£ç ç”Ÿæˆæ¬¡æ•°
  errorAnalysisCount: number;   // æŠ¥é”™åˆ†ææ¬¡æ•°
  trackingAnalysisCount: number; // åŸ‹ç‚¹åˆ†ææ¬¡æ•°
  knowledgeSearchCount: number; // çŸ¥è¯†åº“æœç´¢æ¬¡æ•°
}
```

### 3.5 ä¸Šä¸‹æ–‡æ•°æ®ç»“æ„

```typescript
// types/context.ts

/** ä»£ç ä¸Šä¸‹æ–‡ */
interface CodeContext {
  /** å½“å‰æ–‡ä»¶ */
  currentFile?: {
    path: string;
    content: string;
    language: string;
    selectedText?: string;
  };
  
  /** å…³è”æ–‡ä»¶ï¼ˆä»ä»»åŠ¡ä¸­è¯»å–ï¼ŒåŒ…å«å¤‡æ³¨å’Œä»£ç èŒƒå›´ï¼‰ */
  relatedFiles: Array<{
    path: string;
    content: string;             // å®Œæ•´æ–‡ä»¶å†…å®¹æˆ–æŒ‡å®šè¡ŒèŒƒå›´å†…å®¹
    language: string;
    note?: string;               // æ–‡ä»¶å¤‡æ³¨
    codeRanges?: Array<{         // ä»£ç èŒƒå›´
      startLine: number;
      endLine: number;
      description?: string;
      content: string;           // è¯¥èŒƒå›´çš„ä»£ç å†…å®¹
    }>;
  }>;
  
  /** é¡¹ç›®ä¿¡æ¯ */
  projectInfo: {
    rootPath: string;
    framework: string;           // react / vue / miniprogram
  };
}

/** çŸ¥è¯†åº“ä¸Šä¸‹æ–‡ï¼ˆç®€åŒ–ç‰ˆï¼‰ */
interface KnowledgeContext {
  /** ä»£ç è§„èŒƒ */
  codeSpecs: Array<{
    id: string;
    title: string;
    content: string;
  }>;
  
  /** å†å²æ²»ç†ç»éªŒ */
  historicalFixes: Array<{
    id: string;
    errorType: string;
    solution: string;
  }>;
}

/** å®Œæ•´ä¸Šä¸‹æ–‡ï¼ˆå‘é€ç»™æ¨¡å‹ï¼‰ */
interface FullContext {
  /** éœ€æ±‚ä¸Šä¸‹æ–‡ */
  requirement: StructuredRequirement;
  
  /** å½“å‰ä»»åŠ¡ */
  currentTask: Task;
  
  /** ä»£ç ä¸Šä¸‹æ–‡ */
  code: CodeContext;
  
  /** çŸ¥è¯†åº“ä¸Šä¸‹æ–‡ */
  knowledge: KnowledgeContext;
  
  /** ç”¨æˆ·æŒ‡ä»¤ */
  userInstruction: string;
  
  /** æœŸæœ›è¾“å‡ºç±»å‹ */
  expectedOutput: 'code' | 'review' | 'analysis';
}
```

---

## å››ã€æ ¸å¿ƒæ¨¡å—é…ç½®

> **è¯´æ˜**ï¼šæœ¬ç« èŠ‚ä»…å±•ç¤ºæ¨¡å—é…ç½®å’Œ Prompt æ¨¡æ¿å®šä¹‰ï¼Œå…·ä½“å®ç°é€»è¾‘è¯·å‚è€ƒåŸå‹äº¤äº’ã€‚

### 4.1 éœ€æ±‚ç®¡ç†æ¨¡å—

```typescript
// modules/requirement/config.ts

/**
 * éœ€æ±‚ç®¡ç†æ¨¡å—ä¾èµ–
 */
interface RequirementModuleDeps {
  tapdService: TapdService;
  aiPluginBridge: AIPluginBridge;
  storage: StorageService;
}

/**
 * éœ€æ±‚è§£æ - ä¸Šä¸‹æ–‡æ„å»º
 * 
 * è¯´æ˜ï¼šæœ¬æ¨¡å—è´Ÿè´£æ„å»ºä¸Šä¸‹æ–‡ Promptï¼Œç„¶åé€šè¿‡ AIPluginBridge 
 * è°ƒç”¨å¤–éƒ¨ AI æ’ä»¶ï¼ˆå¦‚ CodeBuddyï¼‰è¿›è¡Œè§£æ
 */
function buildRequirementParseContext(requirement: RawRequirement): string {
  return `
## ä»»åŠ¡
è¯·å°†ä»¥ä¸‹éœ€æ±‚è§£æä¸ºç»“æ„åŒ–æ ¼å¼ã€‚

## åŸå§‹éœ€æ±‚
æ ‡é¢˜: ${requirement.title}
æè¿°: ${requirement.description}
éªŒæ”¶æ ‡å‡†: ${requirement.acceptanceCriteria}

## è¾“å‡ºè¦æ±‚
è¯·è¾“å‡º JSON æ ¼å¼ï¼ŒåŒ…å«ä»¥ä¸‹å­—æ®µï¼š
- background: ä¸šåŠ¡èƒŒæ™¯ï¼ˆsummary, currentProblem, expectedOutcomeï¼‰
- objectives: ä¸šåŠ¡ç›®æ ‡æ•°ç»„
- features: åŠŸèƒ½ç‚¹åˆ—è¡¨
- edgeCases: è¾¹ç•Œä¸å¼‚å¸¸æƒ…å†µ
- acceptanceCriteria: éªŒæ”¶æ ‡å‡†
`;
}
```

> **è¯´æ˜**ï¼šéœ€æ±‚è§£æé€šè¿‡æ„å»ºä¸Šä¸‹æ–‡ Promptï¼Œè°ƒç”¨å¤–éƒ¨ AI æ’ä»¶å®Œæˆã€‚æ’ä»¶æœ¬èº«ä¸åŒ…å«æ¨¡å‹æ¨ç†èƒ½åŠ›ã€‚

### 4.2 ä»»åŠ¡ç®¡ç†æ¨¡å—

```typescript
// modules/task/config.ts

/**
 * ä»»åŠ¡ç®¡ç†æ¨¡å—ä¾èµ–
 */
interface TaskModuleDeps {
  aiPluginBridge: AIPluginBridge;
  storage: StorageService;
}

/**
 * ä»»åŠ¡æ‹†è§£ - ä¸Šä¸‹æ–‡æ„å»º
 * 
 * è¯´æ˜ï¼šæ„å»ºä»»åŠ¡æ‹†è§£çš„ä¸Šä¸‹æ–‡ Promptï¼Œé€šè¿‡å¤–éƒ¨ AI æ’ä»¶å®Œæˆæ‹†è§£
 */
function buildTaskSplitContext(requirement: StructuredRequirement): string {
  return `
## ä»»åŠ¡
è¯·å°†ä»¥ä¸‹éœ€æ±‚æ‹†è§£ä¸ºå…·ä½“çš„å¼€å‘ä»»åŠ¡ã€‚

## ç»“æ„åŒ–éœ€æ±‚
${JSON.stringify(requirement, null, 2)}

## æ‹†è§£è¦æ±‚
1. ç²’åº¦é€‚ä¸­ï¼Œæ¯ä¸ªä»»åŠ¡ 1-4 å°æ—¶å¯å®Œæˆ
2. æ¯ä¸ªä»»åŠ¡æœ‰æ¸…æ™°çš„éªŒæ”¶æ ‡å‡†

## è¾“å‡ºæ ¼å¼
JSON æ•°ç»„ï¼Œæ¯ä¸ªä»»åŠ¡åŒ…å«ï¼šid, title, description, checkpoints
`;
}

/**
 * ä»»åŠ¡æ‹†è§£è¾“å‡ºç±»å‹
 */
interface TaskSplitOutput {
  id: string;
  title: string;
  description: string;
  checkpoints: { description: string }[];
}
```

> **è¯´æ˜**ï¼šä»»åŠ¡æ‹†è§£é€šè¿‡æ„å»ºä¸Šä¸‹æ–‡ Promptï¼Œè°ƒç”¨å¤–éƒ¨ AI æ’ä»¶å®Œæˆã€‚

### 4.3 ä»£ç è¾…åŠ©æ¨¡å—

```typescript
// modules/codeAssist/config.ts

/**
 * ä»£ç è¾…åŠ©æ¨¡å—ä¾èµ–
 */
interface CodeAssistModuleDeps {
  aiPluginBridge: AIPluginBridge;
  taskManager: TaskManager;
  contextEngine: ContextEngine;
}

/**
 * ä»£ç ç”Ÿæˆ - ä¸Šä¸‹æ–‡æ„å»º
 * 
 * è¯´æ˜ï¼šæ„å»ºåŒ…å«éœ€æ±‚ã€ä»»åŠ¡ã€å…³è”æ–‡ä»¶çš„ Promptï¼Œ
 * ç„¶åè°ƒç”¨å¤–éƒ¨ AI æ’ä»¶ï¼ˆCodeBuddy/Copilot/Codeiumï¼‰ç”Ÿæˆä»£ç 
 */
function buildCodeGenerateContext(context: FullContext): string {
  // æ„å»ºå…³è”æ–‡ä»¶ä¸Šä¸‹æ–‡ï¼ˆåŒ…å«å¤‡æ³¨å’Œä»£ç èŒƒå›´ï¼‰
  const relatedFilesContext = context.code.relatedFiles.length > 0
    ? context.code.relatedFiles.map(f => {
        // æ–‡ä»¶å¤‡æ³¨
        const noteSection = f.note ? `> ğŸ“ å¤‡æ³¨ï¼š${f.note}\n` : '';
        
        // ä»£ç èŒƒå›´ï¼ˆå¦‚æœæœ‰æŒ‡å®šèŒƒå›´ï¼Œåªæ˜¾ç¤ºèŒƒå›´å†…å®¹ï¼‰
        let contentSection = '';
        if (f.codeRanges && f.codeRanges.length > 0) {
          contentSection = f.codeRanges.map(range => 
            `#### L${range.startLine}-${range.endLine}${range.description ? ` (${range.description})` : ''}
\`\`\`${f.language}
${range.content}
\`\`\``
          ).join('\n\n');
        } else {
          contentSection = `\`\`\`${f.language}
${f.content}
\`\`\``;
        }
        
        return `
### ${f.path}
${noteSection}${contentSection}
`;
      }).join('\n')
    : 'æ— å…³è”æ–‡ä»¶';

  return `
## å½“å‰éœ€æ±‚
${context.requirement.background.summary}

## å½“å‰ä»»åŠ¡
${context.currentTask.title}
${context.currentTask.description}

## éªŒæ”¶æ ‡å‡†
${context.currentTask.checkpoints.map(c => `- ${c.description}`).join('\n')}

## å…³è”æ–‡ä»¶
${relatedFilesContext}

## è¯·æ ¹æ®ä»¥ä¸Šä¸Šä¸‹æ–‡ï¼Œç”Ÿæˆæˆ–ä¿®æ”¹ä»£ç 
`;
}

/**
 * ä»£ç æ£€æŸ¥ - ä¸Šä¸‹æ–‡æ„å»º
 */
function buildCodeReviewContext(context: FullContext): string {
  // æ„å»ºå…³è”æ–‡ä»¶ä¸Šä¸‹æ–‡ï¼ˆåŒ…å«å¤‡æ³¨å’Œä»£ç èŒƒå›´ï¼‰
  const relatedFilesContext = context.code.relatedFiles.length > 0
    ? context.code.relatedFiles.map(f => {
        const noteSection = f.note ? `> ğŸ“ å¤‡æ³¨ï¼š${f.note}\n` : '';
        
        let contentSection = '';
        if (f.codeRanges && f.codeRanges.length > 0) {
          contentSection = f.codeRanges.map(range => 
            `#### L${range.startLine}-${range.endLine}${range.description ? ` (${range.description})` : ''}
\`\`\`${f.language}
${range.content}
\`\`\``
          ).join('\n\n');
        } else {
          contentSection = `\`\`\`${f.language}
${f.content}
\`\`\``;
        }
        
        return `
### ${f.path}
${noteSection}${contentSection}
`;
      }).join('\n')
    : 'æ— å…³è”æ–‡ä»¶';

  return `
## è¯·æ£€æŸ¥ä»¥ä¸‹ä»£ç æ˜¯å¦ç¬¦åˆéªŒæ”¶æ ‡å‡†

### ä»»åŠ¡éªŒæ”¶ç‚¹
${context.currentTask.checkpoints.map(c => `- ${c.description}`).join('\n')}

### å¾…æ£€æŸ¥æ–‡ä»¶
${relatedFilesContext}

### æ£€æŸ¥ç»´åº¦
1. åŠŸèƒ½å®Œæ•´æ€§ï¼šæ˜¯å¦æ»¡è¶³ä»»åŠ¡æè¿°çš„è¦æ±‚
2. é”™è¯¯å¤„ç†ï¼šå¼‚å¸¸æƒ…å†µæ˜¯å¦æœ‰å…œåº•
3. ä»£ç è§„èŒƒï¼šå‘½åã€æ ¼å¼æ˜¯å¦è§„èŒƒ
`;
}
```

> **è¯´æ˜**ï¼šä»£ç è¾…åŠ©æ¨¡å—è´Ÿè´£æ”¶é›†ä¸Šä¸‹æ–‡ï¼ˆéœ€æ±‚ã€ä»»åŠ¡ã€å½“å‰æ–‡ä»¶ï¼‰ï¼Œæ„å»º Prompt åè°ƒç”¨å¤–éƒ¨ AI æ’ä»¶ã€‚æ’ä»¶æœ¬èº«ä¸æ‰§è¡Œä»£ç ç”Ÿæˆï¼Œè€Œæ˜¯ä½œä¸º"ä¸Šä¸‹æ–‡æä¾›è€…"å¢å¼ºå¤–éƒ¨ AI æ’ä»¶çš„æ•ˆæœã€‚

**å·¥ä½œæµç¨‹**ï¼š
1. ç”¨æˆ·ç‚¹å‡»ã€Œè°ƒç”¨ AI ç”Ÿæˆã€
2. æ’ä»¶æ”¶é›†å½“å‰ä»»åŠ¡ã€éœ€æ±‚ã€æ–‡ä»¶ä¸Šä¸‹æ–‡
3. æ„å»ºç»“æ„åŒ– Prompt
4. é€šè¿‡ AIPluginBridge è°ƒç”¨é€‰å®šçš„å¤–éƒ¨ AI æ’ä»¶
5. å¤–éƒ¨æ’ä»¶ï¼ˆå¦‚ CodeBuddyï¼‰æ¥æ”¶ä¸Šä¸‹æ–‡å¹¶ç”Ÿæˆä»£ç 

### 4.4 æŠ¥é”™æ²»ç†æ¨¡å—

```typescript
// modules/errorFix/config.ts

/**
 * æŠ¥é”™æ²»ç†æ¨¡å—ä¾èµ–
 */
interface ErrorFixModuleDeps {
  aiPluginBridge: AIPluginBridge;
  knowledgeBase: KnowledgeBaseService;
  sourceMapService: SourceMapService;
}

/**
 * é”™è¯¯åˆ†æ - ä¸Šä¸‹æ–‡æ„å»º
 * 
 * è¯´æ˜ï¼šæ”¶é›†é”™è¯¯ä¿¡æ¯ã€æºç ä¸Šä¸‹æ–‡ã€å†å²æ²»ç†ç»éªŒï¼Œ
 * æ„å»º Prompt åè°ƒç”¨å¤–éƒ¨ AI æ’ä»¶è¿›è¡Œåˆ†æ
 */
function buildErrorAnalyzeContext(
  errorInfo: string,
  sourceContext: string,
  historicalFixes: HistoricalFix[]
): string {
  const historySection = historicalFixes.length > 0
    ? historicalFixes.map(f => `- ${f.errorType}: ${f.solution}`).join('\n')
    : 'æ— å†å²è®°å½•';

  return `
## é”™è¯¯ä¿¡æ¯
\`\`\`
${errorInfo}
\`\`\`

## æºç ä¸Šä¸‹æ–‡
\`\`\`typescript
${sourceContext}
\`\`\`

## å†å²ç±»ä¼¼é”™è¯¯æ²»ç†ç»éªŒ
${historySection}

## è¯·åˆ†ææ­¤é”™è¯¯çš„æ ¹å› å¹¶ç»™å‡ºä¿®å¤å»ºè®®
`;
}

/**
 * é”™è¯¯åˆ†æç»“æœç±»å‹
 */
interface ErrorAnalysisResult {
  errorType: string;
  rootCause: string;
  debugSteps: string[];
  suggestedFix: string;
  fixCode?: string;
  preventionTips: string[];
}

/**
 * æ²»ç†è®°å½•ç±»å‹
 */
interface FixRecord {
  id: string;
  errorType: string;
  phenomenon: string;
  rootCause: string;
  fixMethod: string;
  prevention: string;
  createdAt: string;
  diff: string;
}
```

> **è¯´æ˜**ï¼šæŠ¥é”™æ²»ç†æ¨¡å—æ”¶é›†é”™è¯¯å †æ ˆã€æºç ä¸Šä¸‹æ–‡å’Œå†å²æ²»ç†ç»éªŒï¼Œæ„å»º Prompt åè°ƒç”¨å¤–éƒ¨ AI æ’ä»¶è¿›è¡Œåˆ†æã€‚

### 4.5 åŸ‹ç‚¹åˆ†ææ¨¡å—

```typescript
// modules/tracking/config.ts

/**
 * åŸ‹ç‚¹åˆ†ææ¨¡å—ä¾èµ–
 */
interface TrackingModuleDeps {
  aiPluginBridge: AIPluginBridge;
  trackingService: TrackingService;
  requirementManager: RequirementManager;
}

/**
 * åŸ‹ç‚¹ä»£ç ç”Ÿæˆ - ä¸Šä¸‹æ–‡æ„å»º
 */
function buildTrackingCodeContext(event: TrackingEvent): string {
  const paramsDoc = event.params.map(p => 
    `- ${p.name}: ${p.type}${p.required ? ' (å¿…å¡«)' : ''} - ${p.description}`
  ).join('\n');

  return `
## ä»»åŠ¡
è¯·æ ¹æ®ä»¥ä¸‹åŸ‹ç‚¹å®šä¹‰ç”Ÿæˆä¸ŠæŠ¥ä»£ç ã€‚

## åŸ‹ç‚¹ä¿¡æ¯
Key: ${event.key}
åç§°: ${event.name}
ä¸ŠæŠ¥æ—¶æœº: ${event.triggerTiming}

## å‚æ•°å®šä¹‰
${paramsDoc}

## è¾“å‡ºè¦æ±‚
1. ä½¿ç”¨å›¢é˜Ÿæ ‡å‡†çš„åŸ‹ç‚¹ä¸ŠæŠ¥ SDK
2. åŒ…å«å‚æ•°æ ¡éªŒ
3. æ·»åŠ  TypeScript ç±»å‹å®šä¹‰
`;
}

/**
 * åŸ‹ç‚¹æ ¡éªŒ - ä¸Šä¸‹æ–‡æ„å»º
 */
function buildTrackingValidationContext(
  event: TrackingEvent,
  actualCode: string
): string {
  return `
## ä»»åŠ¡
è¯·æ ¡éªŒä»¥ä¸‹åŸ‹ç‚¹ä¸ŠæŠ¥ä»£ç æ˜¯å¦ç¬¦åˆåŸ‹ç‚¹å®šä¹‰ã€‚

## åŸ‹ç‚¹å®šä¹‰
Key: ${event.key}
å¿…å¡«å‚æ•°: ${event.params.filter(p => p.required).map(p => p.name).join(', ')}
å¯é€‰å‚æ•°: ${event.params.filter(p => !p.required).map(p => p.name).join(', ')}

## å®é™…ä»£ç 
\`\`\`typescript
${actualCode}
\`\`\`

## è¯·æ£€æŸ¥
1. å¿…å¡«å‚æ•°æ˜¯å¦éƒ½å·²ä¼ é€’
2. å‚æ•°ç±»å‹æ˜¯å¦æ­£ç¡®
3. æ˜¯å¦æœ‰æœªå®šä¹‰çš„å‚æ•°
`;
}
```

### 4.6 åé¦ˆæ¨¡å—

```typescript
// modules/feedback/config.ts

/**
 * åé¦ˆæ¨¡å—ä¾èµ–
 */
interface FeedbackModuleDeps {
  feedbackService: FeedbackService;
  storage: StorageService;
}

/**
 * åé¦ˆæäº¤é…ç½®
 */
interface FeedbackConfig {
  /** åé¦ˆæœåŠ¡ API åœ°å€ */
  apiEndpoint: string;
  /** æœ€å¤§é™„ä»¶å¤§å°ï¼ˆå­—èŠ‚ï¼‰ */
  maxAttachmentSize: number;
  /** æ”¯æŒçš„é™„ä»¶ç±»å‹ */
  allowedAttachmentTypes: string[];
}

const defaultFeedbackConfig: FeedbackConfig = {
  apiEndpoint: '/api/feedback',
  maxAttachmentSize: 5 * 1024 * 1024, // 5MB
  allowedAttachmentTypes: ['.png', '.jpg', '.gif', '.txt', '.log'],
};
```

---

## äº”ã€æœåŠ¡å±‚æ¥å£è®¾è®¡

> **è¯´æ˜**ï¼šæœ¬ç« èŠ‚ä»…å±•ç¤ºæœåŠ¡æ¥å£å®šä¹‰ï¼Œå…·ä½“å®ç°è¯·å‚è€ƒå®é™…ä»£ç ã€‚

### 5.1 TAPD æœåŠ¡

```typescript
// services/TapdService.ts

interface TapdService {
  /** è·å–éœ€æ±‚è¯¦æƒ… */
  getRequirement(id: string): Promise<RawRequirement>;
  
  /** æœç´¢éœ€æ±‚ */
  searchRequirements(keyword: string): Promise<RawRequirement[]>;
}
```

### 5.2 AI æ’ä»¶æ¡¥æ¥æœåŠ¡

```typescript
// services/AIPluginBridge.ts

/** æ”¯æŒçš„ AI æ’ä»¶ç±»å‹ */
type AIPluginType = 'codebuddy' | 'copilot' | 'codeium';

/** AI æ’ä»¶ä¿¡æ¯ */
interface AIPluginInfo {
  id: AIPluginType;
  name: string;
  extensionId: string;      // VS Code æ‰©å±• ID
  isInstalled: boolean;     // æ˜¯å¦å·²å®‰è£…
  isActive: boolean;        // æ˜¯å¦å·²æ¿€æ´»
}

/** è°ƒç”¨å‚æ•° */
interface AIPluginCallParams {
  /** æ„å»ºå¥½çš„ä¸Šä¸‹æ–‡ Prompt */
  contextPrompt: string;
  /** ç›®æ ‡æ–‡ä»¶è·¯å¾„ï¼ˆå¯é€‰ï¼‰ */
  targetFile?: string;
  /** è°ƒç”¨æ–¹å¼ */
  mode: 'inline' | 'chat' | 'panel';
}

interface AIPluginBridge {
  /** è·å–å¯ç”¨çš„ AI æ’ä»¶åˆ—è¡¨ */
  getAvailablePlugins(): AIPluginInfo[];
  
  /** è·å–å½“å‰é€‰æ‹©çš„æ’ä»¶ */
  getCurrentPlugin(): AIPluginType;
  
  /** è®¾ç½®å½“å‰æ’ä»¶ */
  setCurrentPlugin(plugin: AIPluginType): void;
  
  /** è°ƒç”¨ AI æ’ä»¶ */
  invoke(params: AIPluginCallParams): Promise<void>;
  
  /** æ‰“å¼€æ–‡ä»¶å¹¶è§¦å‘ AI æ’ä»¶çš„ inline è¡¥å…¨ */
  openFileAndTrigger(filePath: string, prompt: string): Promise<void>;
  
  /** å°† Prompt å‘é€åˆ° AI æ’ä»¶çš„ Chat é¢æ¿ */
  sendToChat(prompt: string): Promise<void>;
}
```

> **è¯´æ˜**ï¼šAIPluginBridge æ˜¯æœ¬æ’ä»¶çš„æ ¸å¿ƒæœåŠ¡ï¼Œè´Ÿè´£ä¸å¤–éƒ¨ AI æ’ä»¶ï¼ˆCodeBuddyã€Copilotã€Codeiumï¼‰è¿›è¡Œäº¤äº’ã€‚æœ¬æ’ä»¶ä¸åŒ…å«æ¨¡å‹æ¨ç†èƒ½åŠ›ï¼Œè€Œæ˜¯ä½œä¸º"ä¸Šä¸‹æ–‡å¢å¼ºå±‚"ï¼Œå°†ç»“æ„åŒ–çš„éœ€æ±‚ã€ä»»åŠ¡ä¿¡æ¯æ³¨å…¥åˆ° AI æ’ä»¶çš„è°ƒç”¨ä¸­ã€‚

### 5.3 çŸ¥è¯†åº“æœåŠ¡

```typescript
// services/KnowledgeBaseService.ts

interface Spec {
  id: string;
  title: string;
  content: string;
  category: string;
}

interface KnowledgeBaseService {
  /** æœç´¢ä¸šåŠ¡è§„èŒƒ */
  searchBusinessSpecs(keywords: string[]): Promise<Spec[]>;
  
  /** æœç´¢ä»£ç è§„èŒƒ */
  searchCodeSpecs(keywords: string[]): Promise<Spec[]>;
  
  /** æœç´¢ç±»ä¼¼é”™è¯¯çš„å†å²æ²»ç†è®°å½• */
  searchSimilarErrors(errorType: string, message: string): Promise<HistoricalFix[]>;
  
  /** ä¿å­˜æ²»ç†è®°å½• */
  saveFixRecord(record: FixRecord): Promise<void>;
  
  /** è·å–çŸ¥è¯†åº“åˆ†ç±» */
  getCategories(): Promise<Array<{ id: string; name: string; count: number }>>;
  
  /** è·å–åˆ†ç±»ä¸‹çš„æ–‡æ¡£åˆ—è¡¨ */
  getDocsByCategory(categoryId: string): Promise<Spec[]>;
  
  /** è·å–æœ€è¿‘è®¿é—®è®°å½• */
  getRecentlyViewed(): Promise<Spec[]>;
}
```

### 5.4 åŸ‹ç‚¹æœåŠ¡

```typescript
// services/TrackingService.ts

interface TrackingService {
  /** è·å–åŸ‹ç‚¹å®šä¹‰ */
  getTrackingEvent(key: string): Promise<TrackingEvent>;
  
  /** æœç´¢åŸ‹ç‚¹ */
  searchTrackingEvents(keyword: string): Promise<TrackingEvent[]>;
  
  /** è·å–éœ€æ±‚å…³è”çš„åŸ‹ç‚¹åˆ—è¡¨ */
  getTrackingEventsByRequirement(requirementId: string): Promise<TrackingEvent[]>;
  
  /** è·å–åŸ‹ç‚¹ç»Ÿè®¡æ•°æ® */
  getTrackingStats(eventKey: string): Promise<TrackingStats>;
  
  /** æ ¡éªŒåŸ‹ç‚¹ä»£ç  */
  validateTrackingCode(eventKey: string, code: string): Promise<TrackingValidation>;
  
  /** è·å–åŸ‹ç‚¹æ–‡æ¡£ */
  getTrackingDoc(eventKey: string): Promise<string>;
}
```

### 5.5 åé¦ˆæœåŠ¡

```typescript
// services/FeedbackService.ts

interface FeedbackService {
  /** æäº¤åé¦ˆ */
  submitFeedback(feedback: Omit<Feedback, 'id' | 'createdAt' | 'updatedAt' | 'status'>): Promise<Feedback>;
  
  /** è·å–ç”¨æˆ·åé¦ˆåˆ—è¡¨ */
  getUserFeedbacks(): Promise<Feedback[]>;
  
  /** è·å–åé¦ˆè¯¦æƒ… */
  getFeedbackDetail(id: string): Promise<Feedback>;
  
  /** ä¸Šä¼ é™„ä»¶ */
  uploadAttachment(file: File): Promise<string>;
  
  /** è·å–ä½¿ç”¨ç»Ÿè®¡ */
  getUsageStats(): Promise<UsageStats>;
}
```

---

## å…­ã€æ’ä»¶å‘½ä»¤åˆ—è¡¨

| å‘½ä»¤ ID | è¯´æ˜ |
|---------|------|
| **Tab åˆ‡æ¢** | |
| `aiHelper.showTab.requirement` | åˆ‡æ¢åˆ°éœ€æ±‚å¼€å‘ Tab |
| `aiHelper.showTab.jsError` | åˆ‡æ¢åˆ° JS æŠ¥é”™ Tab |
| `aiHelper.showTab.tracking` | åˆ‡æ¢åˆ°åŸ‹ç‚¹åˆ†æ Tab |
| `aiHelper.showTab.knowledge` | åˆ‡æ¢åˆ°çŸ¥è¯†åº“ Tab |
| `aiHelper.showTab.feedback` | åˆ‡æ¢åˆ°åé¦ˆ Tab |
| **éœ€æ±‚å¼€å‘** | |
| `aiHelper.bindRequirement` | ç»‘å®š TAPD éœ€æ±‚ |
| `aiHelper.unbindRequirement` | è§£ç»‘å½“å‰éœ€æ±‚ |
| `aiHelper.parseRequirement` | è§£æéœ€æ±‚ä¸ºç»“æ„åŒ–æ ¼å¼ |
| `aiHelper.generateTasks` | ç”Ÿæˆä»»åŠ¡æ‹†è§£ |
| `aiHelper.startTask` | å¼€å§‹ä»»åŠ¡ |
| `aiHelper.completeTask` | å®Œæˆä»»åŠ¡ |
| `aiHelper.generateCode` | è°ƒç”¨ AI ç”Ÿæˆä»£ç  |
| `aiHelper.reviewCode` | è°ƒç”¨ AI æ£€æŸ¥ä»£ç  |
| **JS æŠ¥é”™** | |
| `aiHelper.analyzeError` | åˆ†ææŠ¥é”™ |
| `aiHelper.applyFix` | åº”ç”¨ä¿®å¤å»ºè®® |
| `aiHelper.generateFixRecord` | ç”Ÿæˆæ²»ç†è®°å½• |
| `aiHelper.refreshErrors` | åˆ·æ–°é”™è¯¯åˆ—è¡¨ |
| **åŸ‹ç‚¹åˆ†æ** | |
| `aiHelper.searchTracking` | æœç´¢åŸ‹ç‚¹ |
| `aiHelper.generateTrackingCode` | ç”ŸæˆåŸ‹ç‚¹ä»£ç  |
| `aiHelper.validateTracking` | æ ¡éªŒåŸ‹ç‚¹ä»£ç  |
| `aiHelper.viewTrackingDoc` | æŸ¥çœ‹åŸ‹ç‚¹æ–‡æ¡£ |
| **çŸ¥è¯†åº“** | |
| `aiHelper.searchKnowledge` | æœç´¢çŸ¥è¯†åº“ |
| `aiHelper.viewKnowledgeDetail` | æŸ¥çœ‹çŸ¥è¯†è¯¦æƒ… |
| **åé¦ˆ** | |
| `aiHelper.submitFeedback` | æäº¤åé¦ˆ |
| `aiHelper.viewFeedbackHistory` | æŸ¥çœ‹åé¦ˆå†å² |

---

## ä¸ƒã€é…ç½®é¡¹

| é…ç½®é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|--------|------|
| **é€šç”¨é…ç½®** | | | |
| `aiHelper.preferredAIPlugin` | enum | "codebuddy" | é¦–é€‰ AI æ’ä»¶: codebuddy / copilot / codeium |
| `aiHelper.autoDetectPlugin` | boolean | true | è‡ªåŠ¨æ£€æµ‹å·²å®‰è£…çš„ AI æ’ä»¶ |
| `aiHelper.maxContextSize` | number | 50000 | æœ€å¤§ä¸Šä¸‹æ–‡å¤§å°ï¼ˆå­—ç¬¦æ•°ï¼‰ |
| `aiHelper.defaultTab` | enum | "requirement" | é»˜è®¤å±•ç¤ºçš„ Tab: requirement / jsError / tracking / knowledge / feedback |
| **éœ€æ±‚å¼€å‘** | | | |
| `aiHelper.tapdToken` | string | "" | TAPD API Token |
| `aiHelper.autoParseRequirement` | boolean | true | ç»‘å®šéœ€æ±‚åè‡ªåŠ¨è§£æ |
| **JS æŠ¥é”™** | | | |
| `aiHelper.errorServiceUrl` | string | "" | é”™è¯¯ä¸ŠæŠ¥æœåŠ¡åœ°å€ |
| `aiHelper.autoRefreshErrors` | boolean | true | è‡ªåŠ¨åˆ·æ–°é”™è¯¯åˆ—è¡¨ |
| `aiHelper.errorRefreshInterval` | number | 300 | é”™è¯¯åˆ—è¡¨åˆ·æ–°é—´éš”ï¼ˆç§’ï¼‰ |
| **åŸ‹ç‚¹åˆ†æ** | | | |
| `aiHelper.trackingServiceUrl` | string | "" | åŸ‹ç‚¹æœåŠ¡åœ°å€ |
| `aiHelper.trackingDocUrl` | string | "" | åŸ‹ç‚¹æ–‡æ¡£åœ°å€ |
| **çŸ¥è¯†åº“** | | | |
| `aiHelper.knowledgeBaseUrl` | string | "" | çŸ¥è¯†åº“æœåŠ¡åœ°å€ |
| **åé¦ˆ** | | | |
| `aiHelper.feedbackApiUrl` | string | "" | åé¦ˆæœåŠ¡ API åœ°å€ |
| `aiHelper.enableUsageStats` | boolean | true | å¯ç”¨ä½¿ç”¨ç»Ÿè®¡ |

> **è¯´æ˜**ï¼šæœ¬æ’ä»¶ä¸åŒ…å«æ¨¡å‹æœåŠ¡é…ç½®ï¼Œè€Œæ˜¯é€šè¿‡ `preferredAIPlugin` æŒ‡å®šè°ƒç”¨å“ªä¸ªå¤–éƒ¨ AI æ’ä»¶ã€‚å¦‚æœè®¾ç½®äº† `autoDetectPlugin`ï¼Œæ’ä»¶ä¼šè‡ªåŠ¨æ£€æµ‹ç”¨æˆ·å·²å®‰è£…çš„ AI æ’ä»¶å¹¶ä¼˜å…ˆä½¿ç”¨ã€‚

---

## å…«ã€å¼€å‘æ’æœŸå»ºè®®

| é˜¶æ®µ | å‘¨æœŸ | å†…å®¹ | äº¤ä»˜ç‰© |
|------|------|------|--------|
| **é˜¶æ®µä¸€** | 2å‘¨ | æ’ä»¶æ¡†æ¶ + Tab æ¶æ„ + éœ€æ±‚ç»‘å®š | Tab åˆ‡æ¢ã€éœ€æ±‚ç»‘å®šã€ç»“æ„åŒ–è§£æ |
| **é˜¶æ®µäºŒ** | 2å‘¨ | ä»»åŠ¡ç®¡ç† + ä¸Šä¸‹æ–‡æ”¶é›† | ä»»åŠ¡æ‹†è§£ã€çŠ¶æ€ç®¡ç†ã€ä¸Šä¸‹æ–‡æ”¶é›† |
| **é˜¶æ®µä¸‰** | 2å‘¨ | ä»£ç ç”Ÿæˆ + ä»£ç æ£€æŸ¥ | AI è¾…åŠ©ç”Ÿæˆä»£ç ã€è§„èŒƒæ£€æŸ¥ |
| **é˜¶æ®µå››** | 2å‘¨ | JS æŠ¥é”™ Tab å®Œæ•´åŠŸèƒ½ | é”™è¯¯åˆ—è¡¨ã€æŠ¥é”™åˆ†æã€æ²»ç†è®°å½• |
| **é˜¶æ®µäº”** | 1.5å‘¨ | åŸ‹ç‚¹åˆ†æ Tab | åŸ‹ç‚¹æœç´¢ã€ä»£ç ç”Ÿæˆã€æ ¡éªŒ |
| **é˜¶æ®µå…­** | 1å‘¨ | çŸ¥è¯†åº“ Tab | åˆ†ç±»æµè§ˆã€æœç´¢ã€è¯¦æƒ…å±•ç¤º |
| **é˜¶æ®µä¸ƒ** | 0.5å‘¨ | åé¦ˆ Tab + é›†æˆæµ‹è¯• | åé¦ˆæäº¤ã€å†å²è®°å½•ã€ä½¿ç”¨ç»Ÿè®¡ |

**æ€»è®¡ï¼šçº¦ 11 å‘¨**

---

å¦‚éœ€è¿›ä¸€æ­¥ç»†åŒ–æŸä¸ªæ¨¡å—ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼
